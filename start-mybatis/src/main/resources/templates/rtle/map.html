<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<style>
        .map {
            width: 100%;
            height: 450px;
        }
</style>
<link rel="stylesheet" th:href="@{'/static/staicres/ol6.3/ol.css'}" type="text/css">
<meta charset="UTF-8">
<title></title>
</head>
<body>
	<div id="map" class="map"></div>
	<div style="background-color: #999;"><span>鼠标点击所在位置坐标：</span><span th:name="textValue" id='textValue' th:value="${longitude}"></span></div>
	<input type="hidden" id="latitude"  th:value="${latitude}"> 
	<input type="hidden" id="longitude"  th:value="${longitude}">
<!-- jQuery 2.2.3 -->
<script th:src="@{'/static/staticres/js/jquery-2.2.3.min.js'}"></script>
<script th:src="@{'/static/staicres/ol6.3/ol.js'}"></script>
<script type="text/javascript">
//获取经纬度的值
var longitude = $('#longitude').val();
var latitude = $('#latitude').val();
//加载地图
var map = new ol.Map({
    controls: ol.control.defaults().extend([
        new ol.control.FullScreen(),
        new ol.control.OverviewMap(),
        new ol.control.ScaleLine(),
        new ol.control.ZoomSlider(),
        new ol.control.ZoomToExtent()
    ]),
    //加载层级
    layers: [
        new ol.layer.Tile({
            source: new ol.source.OSM()
        })
    ],
    target: 'map',
    //加载视图
    view: new ol.View({
    	//设置中心坐标位置为贵阳
        center: ol.proj.transform(
            [longitude,latitude], 'EPSG:4326', 'EPSG:3857'),
            //缩放比例
        zoom: 10
    })
});
$("#map").click(function (e) {
    // alert('X ; '+ e.clientX  + 'Y: '+e.clientY);
    //获取经纬度
    var t = ol.proj.transform(map.getEventCoordinate(e), 'EPSG:3857', 'EPSG:4326');
    //将经纬度显示到页面
    document.getElementById('textValue').innerHTML = t;
})
//添加移动鼠标显示地图经纬度功能
map.addControl(new ol.control.MousePosition({coordinateFormat: ol.coordinate.createStringXY(8),projection: 'EPSG:4326'}));
</script>
</body>
</html>