<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<style>
        .map {
            width: 100%;
            height: 580px;
        }
</style>
<link rel="stylesheet" th:href="@{'/static/staticres/ol6.3/ol.css'}" type="text/css">
<link rel="stylesheet" th:href="@{'/static/staticres/ol3source/ol.css'}" type="text/css">
<link th:href="@{/static/addbar.css}" rel="stylesheet" type="text/css">
<link th:href="@{/static/staticres/plugins/ol-ext/control/layerswitchercontrol.css}" rel="stylesheet" type="text/css">
<link th:href="@{/static/staticres/plugins/ol3-measuretool-master/measuretool.css}" rel="stylesheet" type="text/css">
<head>
<meta charset="UTF-8">
<title></title>
</head>
<body>
<div id="map" class="map"></div>
<input type="hidden" id="latitude"  th:value="${latitude}"> 
<input type="hidden" id="longitude"  th:value="${logitude}">
<!-- jQuery 2.2.3 -->
<script th:src="@{'/static/staticres/js/jquery-2.2.3.min.js'}"></script>
<script th:src="@{'/static/staticres/ol6.3/ol.js'}"></script>
<script th:src="@{'/static/staticres/ol3source/ol.js'}"></script>
<script th:src="@{'/static/staticres/plugins/ol-ext/control/layerswitchercontrol.js'}"></script>
<script th:src="@{'/static/staticres/plugins/ol3-measuretool-master/measuretool.js'}"></script>
<script type="text/javascript">
//获取经纬度的值
var longitude = $('#longitude').val();
var latitude = $('#latitude').val();
//自定义logo
var mylogo = { src: "../static/staticres/images/adminphoto.jpg", href: "#" };
// 定义地图的交互功能
 var interactions = ol.interaction.defaults().extend([
    new ol.interaction.DragRotateAndZoom()
 ]);
 //视图
 var view = new ol.View({
	//设置中心坐标位置为贵阳
     center: ol.proj.transform(
         [parseFloat(longitude),parseFloat(latitude)], 'EPSG:4326', 'EPSG:3857'),
         //缩放比例
     zoom: 10
 });
 //层级
 var layer= new ol.layer.Tile({
     source: new ol.source.OSM({
     	//自定义版权
     	attributions: [
             new ol.Attribution({
                 html:"<a href='http://www.jlrtls.com/'>&copy; 旌霖科技</a>"
             })]
     })
 });
 //控件
 var controls=ol.control.defaults().extend([
     new ol.control.FullScreen(),
     new ol.control.ScaleLine(),
     new ol.control.ZoomSlider(),
     new ol.control.ZoomToExtent(),
 ]);
//加载地图
var map = new ol.Map({
    controls:controls,
    //加载层级
    layers: [
       layer
    ],
    logo: mylogo,
    target: 'map',
    view: view,
    interactions: interactions,
});
//添加层切换按钮
var switcher = new ol.control.LayerSwitcher({
	target:$(".layerSwitcher").get(0), 
	show_progress:false,
	extent: false,
	trash: false
});
map.addControl(switcher);
//添加测试距离工具
var MeasureTool = new ol.control.MeasureTool({
	        sphereradius : 6378137,//sphereradius
	      });
map.addControl(MeasureTool);
//添加移动鼠标显示地图经纬度功能
map.addControl(new ol.control.MousePosition({coordinateFormat: ol.coordinate.createStringXY(8),projection: 'EPSG:4326'}));
</script>
</body>
</html>